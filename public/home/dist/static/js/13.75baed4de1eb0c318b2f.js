webpackJsonp([13],{"+dRz":function(t,o){},DDpm:function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var e={name:"shopping",data:function(){return{active:0,value:"",nav:["全部","洗护","内衣","百货","家电","家具","数码"],loading:!0,finished:!0,searchList:[],nowPage:1,keyWord:"",returnData:[]}},created:function(){this.findComType(),this.goodsMooney()},methods:{onSearch:function(){console.log("search"),this.$router.push({path:"/search"})},findComType:function(){var t=this;this.$POST("/goods/category").then(function(o){200==o.code&&o.data.length>0&&(t.nav=o.data,t.keyWord=o.data[0].name,t.getGoodsList(),t.finished=!1)}).catch(function(t){console.log(t)})},toggleTab:function(t,o,i){var e=this;console.log(t),console.log(o),this.keyWord=i,this.nowPage=1,this.searchList=[],this.getGoodsList(),this.finished=!1;var n={page:this.pageNum,cid:this.keyWord};this.$POST("/goods/index",n,!1).then(function(t){console.log(t),200===t.code?t.data.length>0?(e.searchList=t.data,t.data.length<20&&(e.finished=!0,e.$toast("已经到底了！")),e.loading=!1):(e.finished=!0,e.$toast("没有数据了亲!")):e.finished=!0,e.loading=!1,console.log("加载数据成功!")}).catch(function(t){e.loading=!1,e.finished=!0,e.pageNum--,e.isReload=!0,console.log("获取数据失败!")})},getGoodsList:function(){var t=this,o={page:this.pageNum,cid:this.keyWord};this.$POST("/goods/index",o,!1).then(function(o){console.log(o),200===o.code?o.data.length>0?(t.searchList=o.data,o.data.length<20&&(t.finished=!0,t.$toast("已经到底了！")),t.loading=!1):(t.finished=!0,t.$toast("没有数据了亲!")):t.finished=!0,t.loading=!1,console.log("加载数据成功!")}).catch(function(o){t.loading=!1,t.finished=!0,t.pageNum--,t.isReload=!0,console.log("获取数据失败!")})},scrollLoad:function(){this.loading=!0,this.goodsMooney(),this.nowPage++},goodsMooney:function(){var t=this,o={page:this.nowPage,alimm_pid:localStorage.getItem("PID"),haveNoToken:!1},i=this;this.$POST("/goods/yhh",o,!1).then(function(o){console.log(o),200===o.code?(i.returnData=o.data,o.data.length>0?(t.searchList=o.data,o.data.length<20&&(t.finished=!0,t.$toast("已经到底了！")),t.loading=!1):(t.finished=!1,t.$toast("没有数据了亲!"))):t.finished=!0,t.loading=!1,console.log("加载数据成功!")}).catch(function(o){console.log(o),t.$toast("连接服务器失败")})}}},n={render:function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{attrs:{id:"Shopping"}},[i("div",{staticClass:"bg"}),t._v(" "),i("div",{staticClass:"page-header"},[i("van-nav-bar",[i("div",{attrs:{slot:"title"},slot:"title"},[t._v("\n        商品列表\n      ")]),t._v(" "),i("van-icon",{attrs:{slot:"left",name:"arrow-left",color:"black"},on:{click:function(o){t.$router.push("/")}},slot:"left"})],1)],1),t._v(" "),i("van-list",{attrs:{finished:t.finished},on:{load:t.scrollLoad},model:{value:t.loading,callback:function(o){t.loading=o},expression:"loading"}},t._l(t.returnData,function(o,e){return i("div",{key:e,staticClass:"good-list",on:{click:function(i){t.$router.push({path:"/goodsDetail",query:{coupon_links:o.coupon_link,commission_moneys:o.commission_money,images:o.thumb,yishou:o.sales_num,id:o.origin_id,delprice:o.origin_price,title:o.title,nowPrice:o.coupon_price,quanJine:o.coupon_money,thumbs:o.thumb}})}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:o.thumb,expression:"i.thumb"}],staticStyle:{width:"140px",height:"160px"},attrs:{src:o.thumb}}),t._v(" "),i("div",[i("span",{staticClass:"searchlist-goodsname",staticStyle:{overflow:"hidden","text-overflow":"ellipsis",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical"}},[t._v(t._s(o.title))]),t._v(" "),i("div",[i("span",[t._v("￥"+t._s(o.coupon_price))]),i("span",[t._v("原价 "),i("del",[t._v("￥"+t._s(o.origin_price))])])]),t._v(" "),i("div",{staticClass:"lq"},[i("div",[i("img",{attrs:{src:"static/img/lq.png"}}),i("span",[t._v("¥ "+t._s(o.coupon_money))])]),t._v(" "),i("span",[t._v("已售"+t._s(o.sales_num>1e4?o.sales_num/1e4+"万":o.sales_num))])]),t._v(" "),i("div",{staticClass:"yg"},[i("div",[t._v("预估赚￥"+t._s(o.commission_money))]),t._v(" "),i("div",[t._v("升级赚￥5.20")])])])])}))],1)},staticRenderFns:[]};var s=i("VU/8")(e,n,!1,function(t){i("nk8Z"),i("+dRz")},"data-v-1913e168",null);o.default=s.exports},nk8Z:function(t,o){}});
//# sourceMappingURL=13.75baed4de1eb0c318b2f.js.map